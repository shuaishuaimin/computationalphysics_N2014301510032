#5.3 通过电容器的对称性写一个程序得到X-Y平面一个象限的势能计算结果*
##· 背景介绍

在不存在电荷的空间中，电势的分布遵循拉普拉斯方程:

![](https://camo.githubusercontent.com/0983f05673b5dd953a985b5bdc089f2a9a792c3c/687474703a2f2f692e696d6775722e636f6d2f584536575863582e706e67)

理论上，只要在一定的边界条件下求解就可以得到静电势的空间分布，但是除了一些特殊的边界条件以外，对于这类问题我们难以得到解析解。所以我们必须使用数值计算的方法，得到电势的数值解。

本文采用松弛算法(relaxation method)去求解。

松弛算法的一种为Jacobi方法。Jacobi方法的精髓是从一个符合边界条件的猜测解开始，通过迭代，使得数值解收敛于真实的解。

Jacobi方法的改进版是Gauss-Seidel方法。在计算中，我们总是算完一个点再算另一个点，也就是逐点更新计算结果。该方法主要的改进是在计算某一点的电势时，使用之前的点已经更新（update）后的数据。

5.3题给出的是一个平板电容器，要求计算周围的电势。

![](https://camo.githubusercontent.com/a218b9c53723a1a7087404a875be86b3872dff31/687474703a2f2f692e696d6775722e636f6d2f684e73754259442e6a7067)

##· 正文

5.3 通过电容器的对称性写一个程序得到X-Y平面一个象限的势能计算结果

①通过全局迭代得到电势图

建立平板处为±1，其他地方为0的100*100矩阵后，使用迭代语句令非边界上的点的电势相等于其周围最近的四个点的电势的平均值。在计算某一点的电势时，使用之前的点已经更新（update）后的数据。最终扩散得到全局电势。



得到2D等高线电势图，对应的3D图像和电场线矢量图。
![](https://camo.githubusercontent.com/334f2d309cc1d12f10c4eb48ecee1e29b25e2af7/687474703a2f2f692e696d6775722e636f6d2f5575493233454c2e6a7067)
![](https://camo.githubusercontent.com/a937b6311e9214f6f5b44271210f511dc3b419c7/687474703a2f2f692e696d6775722e636f6d2f4c487431536e4b2e6a7067)

![](https://camo.githubusercontent.com/16469994f1ee86da6f20a5dcba35bd589734020d/687474703a2f2f692e696d6775722e636f6d2f6e7169507653312e6a7067)



可以看出，平板处电势最强，其他地方电势呈发散状。电场线垂直于平板。这与实际情况是相符合的。

②通过对称性得到电势图（尝试）

将①中全局迭代i,j的range改为一半，在每一步更新V的操作中，利用对称性得到对面的电势，可节省一半的计算时间。

然而在实际操作中，中轴为i=55，在进行v[110-i][j]=-v[i][j]求对面算符时，老报错list index out of range，还没找到原因，有待进一步改进。

![](https://camo.githubusercontent.com/cf9eed88002b63b41654a3ac256d6b0ab9577522/687474703a2f2f692e696d6775722e636f6d2f42666c5a78677a2e6a7067)

##· 结论

平板处电势最强，其他地方电势呈发散状。电场线垂直于平板。这与实际情况是相符合的。

理论上，将全局迭代i,j的range改为一半，在每一步更新V的操作中，利用对称性得到对面的电势，可节省一半的计算时间。
